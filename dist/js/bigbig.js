"use strict";var big={init:function(){this.$box=document.querySelector(".box"),this.$showImage=this.$box.querySelector(".show-image"),this.$showBigImage=this.$box.querySelector(".show-big-image"),this.$ulbox=this.$box.querySelector(".img-box"),this.$liAll=this.$ulbox.children,this.$filter=this.$showImage.querySelector(".filter");for(var e=0;e<this.$liAll.length;e++)this.$liAll[e].index=e;this.event()},event:function(){var h=this;this.$ulbox.onclick=function(e){var t=(e=e||window.event).target||e.srcElement;console.log(t.nodeName),"IMG"===t.nodeName&&h.showImage(t.parentNode.index)},this.$showImage.onmouseenter=function(){h.$filter.style.display="block",h.$showBigImage.style.display="block"},this.$showImage.onmouseleave=function(){h.$filter.style.display="none",h.$showBigImage.style.display="none"},this.$showImage.onmousemove=function(e){var t=(e=e||window.event).clientX-this.offsetLeft-h.$filter.offsetWidth/2,i=e.clientY-this.offsetTop-h.$filter.offsetHeight/2,l=this.clientWidth-h.$filter.offsetWidth,s=this.clientHeight-h.$filter.offsetHeight;l<=t?t=l:t<=0&&(t=0),s<=i?i=s:i<=0&&(i=0),h.$filter.style.left=t+"px",h.$filter.style.top=i+"px";var o=h.$showBigImage.querySelector("img");o.style.left=-3*t+"px",o.style.top=-3*i+"px"}},showImage:function(e){console.log(e);for(var t=0;t<this.$liAll.length;t++)this.$liAll[t].className="";this.$liAll[e].className="active";var i=this.$liAll[e].querySelector("img").getAttribute("src");this.$showImage.querySelector("img").src=i.replace("small","large"),this.$showBigImage.querySelector("img").src=i.replace("small","large"),console.log(i)}};big.init();