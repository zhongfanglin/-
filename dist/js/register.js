"use strict";var checkInput={phone:function(e){return/^1[356789]\d{9}$/.test(e)},username:function(e){return/^\w{6,16}$/.test(e)},passwords:function(e){}},register={init:function(){this.success=document.querySelector(".success"),this.ok=document.querySelectorAll(".ok"),this.rpassword=document.querySelector(".rpassword"),this.container=document.querySelector(".container"),this.main=document.querySelector(".main"),this.phone=document.querySelector(".phone"),this.btn=document.querySelector(".btn"),this.next=document.querySelector(".next"),this.reg=document.querySelector(".reg"),this.username=document.querySelector(".username"),this.passwords=document.querySelector(".password"),this.i=0,this.event()},event:function(){var a=this;this.btn.onclick=function(){var e=a.phone.value;checkInput.phone(e)&&(a.btn.innerHTML="验证成功请点击下一步！",a.btn.style.background="green",a.next.onclick=function(){a.main.style.display="none",a.container.style.display="block"})},this.username.onblur=function(){var e=a.username.value;checkInput.username(e)&&(a.username.nextElementSibling.style.display="block",a.username.nextElementSibling.className="ok")},this.passwords.onblur=function(){var e=a.passwords.value;""==e?alert("密码不能为空"):checkInput.username(e)&&(a.passwords.nextElementSibling.style.display="block",a.passwords.nextElementSibling.className="ok")},this.rpassword.onblur=function(){var e=a.passwords.value,t=a.rpassword.value;checkInput.username(t)&&(e!=t?alert("两次密码不一致！"):(a.rpassword.nextElementSibling.style.display="block",a.rpassword.nextElementSibling.className="ok"))},this.reg.onclick=function(){for(var e=document.querySelectorAll(".sub em"),t=0;t<e.length&&"ok"==e[t].className;t++);if(a.i=t,3==a.i){var n=a.username.value,s=a.passwords.value,r="name=".concat(n,"&passwords=").concat(s),o=new XMLHttpRequest;o.open("POST",apiObj.register,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(r),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&("注册成功"==o.responseText?(a.container.style.display="none",a.success.style.display="block"):alert(o.responseText))}}}}};register.init();